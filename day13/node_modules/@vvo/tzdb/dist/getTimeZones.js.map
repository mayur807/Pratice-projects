{"version":3,"file":"getTimeZones.js","names":["_rawTimeZones","_interopRequireDefault","require","_formatTimeZone","_timeZone","e","__esModule","default","getTimeZones","opts","includeUtc","rawTimeZones","reduce","acc","timeZone","timeZoneName","name","currentOffset","getZoneOffset","timeZoneWithCurrentTimeData","currentTimeOffsetInMinutes","push","currentTimeFormat","formatTimeZone","useCurrentOffset","utcTimezone","sort","a","b","compareNumbers","compareStrings","alternativeName","mainCities","x","y","localeCompare","abbreviation","group","countryName","continentCode","continentName","rawOffsetInMinutes","rawFormat"],"sources":["../lib/getTimeZones.js"],"sourcesContent":["import rawTimeZones from \"../raw-time-zones.json\";\n\nimport formatTimeZone from \"./formatTimeZone.js\";\nimport { getZoneOffset } from \"./utils/timeZone.js\";\n\nexport default function getTimeZones(opts) {\n  const includeUtc = !!opts && opts.includeUtc;\n  return rawTimeZones\n    .reduce(\n      function (acc, timeZone) {\n        const timeZoneName = timeZone.name;\n        const currentOffset = getZoneOffset(timeZoneName);\n\n        // We build on the latest Node.js version, Node.js embed IANA databases\n        // it might happen that the environment that will execute getTimeZones() will not know about some\n        // timezones. So we ignore the timezone at runtim\n        // See https://github.com/vvo/tzdb/issues/43\n        if (currentOffset === false) {\n          return acc;\n        }\n\n        const timeZoneWithCurrentTimeData = {\n          ...timeZone,\n          currentTimeOffsetInMinutes: currentOffset,\n        };\n\n        acc.push({\n          ...timeZoneWithCurrentTimeData,\n          currentTimeFormat: formatTimeZone(timeZoneWithCurrentTimeData, {\n            useCurrentOffset: true,\n          }),\n        });\n\n        return acc;\n      },\n      includeUtc ? [utcTimezone] : [],\n    )\n    .sort((a, b) => {\n      return (\n        compareNumbers(a, b) ||\n        compareStrings(a.alternativeName, b.alternativeName) ||\n        compareStrings(a.mainCities[0], b.mainCities[0])\n      );\n    });\n}\n\nfunction compareNumbers(x, y) {\n  return x.currentTimeOffsetInMinutes - y.currentTimeOffsetInMinutes;\n}\n\nfunction compareStrings(x, y) {\n  if (typeof x === \"string\" && typeof y === \"string\") {\n    return x.localeCompare(y);\n  }\n  return 0;\n}\n\nconst utcTimezone = {\n  name: \"Etc/UTC\",\n  alternativeName: \"Coordinated Universal Time (UTC)\",\n  abbreviation: \"UTC\",\n  group: [\"Etc/UTC\", \"Etc/UCT\", \"UCT\", \"UTC\", \"Universal\", \"Zulu\"],\n  countryName: \"\",\n  continentCode: \"\",\n  continentName: \"\",\n  mainCities: [\"\"],\n  rawOffsetInMinutes: 0,\n  rawFormat: \"+00:00 Coordinated Universal Time (UTC)\",\n  currentTimeOffsetInMinutes: 0,\n  currentTimeFormat: \"+00:00 Coordinated Universal Time (UTC)\",\n};\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AAAoD,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAErC,SAASG,YAAYA,CAACC,IAAI,EAAE;EACzC,MAAMC,UAAU,GAAG,CAAC,CAACD,IAAI,IAAIA,IAAI,CAACC,UAAU;EAC5C,OAAOC,qBAAY,CAChBC,MAAM,CACL,UAAUC,GAAG,EAAEC,QAAQ,EAAE;IACvB,MAAMC,YAAY,GAAGD,QAAQ,CAACE,IAAI;IAClC,MAAMC,aAAa,GAAG,IAAAC,uBAAa,EAACH,YAAY,CAAC;;IAEjD;IACA;IACA;IACA;IACA,IAAIE,aAAa,KAAK,KAAK,EAAE;MAC3B,OAAOJ,GAAG;IACZ;IAEA,MAAMM,2BAA2B,GAAG;MAClC,GAAGL,QAAQ;MACXM,0BAA0B,EAAEH;IAC9B,CAAC;IAEDJ,GAAG,CAACQ,IAAI,CAAC;MACP,GAAGF,2BAA2B;MAC9BG,iBAAiB,EAAE,IAAAC,uBAAc,EAACJ,2BAA2B,EAAE;QAC7DK,gBAAgB,EAAE;MACpB,CAAC;IACH,CAAC,CAAC;IAEF,OAAOX,GAAG;EACZ,CAAC,EACDH,UAAU,GAAG,CAACe,WAAW,CAAC,GAAG,EAC/B,CAAC,CACAC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IACd,OACEC,cAAc,CAACF,CAAC,EAAEC,CAAC,CAAC,IACpBE,cAAc,CAACH,CAAC,CAACI,eAAe,EAAEH,CAAC,CAACG,eAAe,CAAC,IACpDD,cAAc,CAACH,CAAC,CAACK,UAAU,CAAC,CAAC,CAAC,EAAEJ,CAAC,CAACI,UAAU,CAAC,CAAC,CAAC,CAAC;EAEpD,CAAC,CAAC;AACN;AAEA,SAASH,cAAcA,CAACI,CAAC,EAAEC,CAAC,EAAE;EAC5B,OAAOD,CAAC,CAACb,0BAA0B,GAAGc,CAAC,CAACd,0BAA0B;AACpE;AAEA,SAASU,cAAcA,CAACG,CAAC,EAAEC,CAAC,EAAE;EAC5B,IAAI,OAAOD,CAAC,KAAK,QAAQ,IAAI,OAAOC,CAAC,KAAK,QAAQ,EAAE;IAClD,OAAOD,CAAC,CAACE,aAAa,CAACD,CAAC,CAAC;EAC3B;EACA,OAAO,CAAC;AACV;AAEA,MAAMT,WAAW,GAAG;EAClBT,IAAI,EAAE,SAAS;EACfe,eAAe,EAAE,kCAAkC;EACnDK,YAAY,EAAE,KAAK;EACnBC,KAAK,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,CAAC;EAChEC,WAAW,EAAE,EAAE;EACfC,aAAa,EAAE,EAAE;EACjBC,aAAa,EAAE,EAAE;EACjBR,UAAU,EAAE,CAAC,EAAE,CAAC;EAChBS,kBAAkB,EAAE,CAAC;EACrBC,SAAS,EAAE,yCAAyC;EACpDtB,0BAA0B,EAAE,CAAC;EAC7BE,iBAAiB,EAAE;AACrB,CAAC","ignoreList":[]}